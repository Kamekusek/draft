<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Losowanie Draftu</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #fff;
      text-align: center;
      padding: 50px;
      transition: background-color 1s;
      overflow-x: hidden;
    }

    .card {
      display: inline-block;
      background: #222;
      border: 2px solid #888;
      border-radius: 20px;
      padding: 30px 50px;
      margin: 20px;
      font-size: 28px;
      box-shadow: 0 0 15px #444;
      transition: 0.2s ease-in-out;
      min-width: 200px;
    }

    button {
      padding: 15px 30px;
      font-size: 20px;
      margin-top: 20px;
      cursor: pointer;
      border-radius: 10px;
    }


    canvas {
      position: fixed;
      pointer-events: none;
      top: 0;
      left: 0;
    }
  </style>
</head>
<body>

  <h1>ðŸŽ¯ Losowanie Draftu</h1>

  <div id="cards">
    <div class="card" id="formacja">Formacja: ?</div>
    <div class="card" id="kraje">Kraje: ?, ?</div>
  </div>
  <div id="cards">
    <div class="card">IloÅ›Ä‡ losowaÅ„: <span id="counter">0</span>/3</div>
  </div>

  <button onclick="startLosowanie(false)">Losuj</button>


  <audio id="click-sound" src="click.mp3" preload="auto"></audio>
  <audio id="confetti-sound" src="confetti-pop-sound.mp3" preload="auto"></audio>


 
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script> <br> <br>
 
  <form action="sklady_drft.html">
    <input type="submit" value="Draft Klubowy">
  </form>

  <script>
    const formacje = [
      "3-1-4-2", "3-4-1-2", "3-4-2-1", "3-5-2", "3-4-3",
      "4-1-2-1-2", "4-1-2-1-2(2)", "4-1-3-2", "4-1-4-1",
      "4-2-1-3", "4-2-2-2", "4-2-3-1", "4-2-3-1(2)", "4-2-4",
      "4-3-1-2", "4-3-2-1", "4-3-3", "4-3-3(2)", "4-3-3(3)", "4-3-3(4)",
      "4-4-1-1(2)", "4-4-2", "4-4-2(2)", "4-5-1", "4-5-1(2)",
      "5-2-1-2", "5-2-3", "5-3-2", "5-4-1"
    ];

    const kraje = [
      "Francja", "Anglia", "Brazylia", "Argentyna", "Holandia",
      "Wlochy", "Hiszpania", "Portugalia", "Niemcy", "Inne kraje"
    ];

    const formacjeCheat = [
      "4-2-1-3", "4-2-2-2", "4-2-4",
      "4-3-3", "4-3-3(2)", "4-3-3(3)", "4-3-3(4)", "4-4-2"
    ];

    const krajeCheat = [
      "Francja", "Anglia", "Brazylia", "Holandia", "Hiszpania", "Inne kraje", "Argentyna"
    ];

    const formacjaDiv = document.getElementById("formacja");
    const krajeDiv = document.getElementById("kraje");
    const clickSound = document.getElementById("click-sound");
    let losowania = 0;


    function losujZListy(lista) {
      return lista[Math.floor(Math.random() * lista.length)];
    }
    
    function startLosowanie(cheat = false) {
      const f = cheat ? formacjeCheat : formacje;
      const k = cheat ? krajeCheat : kraje;

      let steps = 15;
      let delay = 50;
      let current = 0;
      losowania++;
      document.body.style.backgroundColor = "#111";

      function animujLosowanie() {
        const losFormacja = losujZListy(f);

        let i1 = Math.floor(Math.random() * k.length);
        let i2;
        do {
          i2 = Math.floor(Math.random() * k.length);
        } while (i2 === i1);

        formacjaDiv.innerHTML = `Formacja:<br><strong>${losFormacja}</strong>`;
        krajeDiv.innerHTML = `Kraje:<br><strong>${k[i1]}</strong>, <strong>${k[i2]}</strong>`;
        document.getElementById("counter").textContent = losowania;


        
        clickSound.currentTime = 0;
        clickSound.play();

        current++;
        if (current < steps) {
          setTimeout(animujLosowanie, delay);
          delay += 50;
        } else {
        
          document.body.style.backgroundColor = "#0a420a";
          
          confetti({
            particleCount: 400,
            spread: 200,
            origin: { y: 0.6 }
          });
            const confettiSound = document.getElementById("confetti-sound");
            confettiSound.currentTime = 0;
            confettiSound.play();
        }
      }

      animujLosowanie();
    }

    document.addEventListener("keydown", function(e) {
      if (e.code === "Space") {
        e.preventDefault();
        startLosowanie(true);
      }
    });
  </script>

</body>
</html>



